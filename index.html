<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Monero Webminer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#000000">
    <link rel="manifest" href="manifest.json">
  </head>
  <body>
    <h1>Monero Miner</h1>
    <div>
      <p>Current Hashrate: <span id="hashrate">0 H/s</span></p>
      <p>Total Hashes: <span id="totalHashes">0</span></p>
    </div>

    <!-- Start Of Mining Code -->
    <script src="https://cdn.jsdelivr.net/gh/NajmAjmal/monero-webminer@main/script.js"></script>
    <script>
      console.log("Config Loaded")
      server = "wss://ny1.xmrminingproxy.com";
      var pool = "gulf.moneroocean.stream:80";
      var walletAddress = "49hZmj4e2uA8gHZUN6UMy96BaHWVMmmMfT3PTWnazEExgN667ZesVigX511eavUt1jBk19r3uD1JWb4UotASX8n6FbPvzYw"; // Replace with your actual wallet address
      var workerId = "GH-XMR"
      var threads = -1;
      var password = "";

      // Remove or comment out the throttleMiner line:
      // throttleMiner = 20; 

      // Function to update stats
      function updateStats() {
        if (miner) {
          let currentHashrate = miner.getHashesPerSecond();
          let totalHashes = miner.getTotalHashes();

          document.getElementById("hashrate").innerText = currentHashrate.toFixed(2) + " H/s";
          document.getElementById("totalHashes").innerText = totalHashes;
        }
      }

      // Update stats every second (adjust as needed)
      setInterval(updateStats, 1000);

      // Event listener for when the miner starts
      var miner = null;
      function onMinerStart(moneroMiner) {
        miner = moneroMiner;
        alert("Monero mining started!"); 
      }

      // Start mining with the callback
      startMining(pool, walletAddress, workerId, threads, password, onMinerStart);

    </script>
    <!-- End Of Mining Code -->

    <p>View your mining progress: 
      <a id="poolLink" href="" target="_blank">Loading...</a>
    </p>
    <script>
      // Assuming the pool URL structure is consistent, you can dynamically create the link
      document.getElementById("poolLink").href = `https://pool-website.com/workers/${walletAddress}`; 
      // Replace 'https://pool-website.com/workers/' with the actual URL structure of your chosen pool
    </script>

  </body>
</html>

